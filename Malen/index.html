<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Malen nach Farben</title>
  <meta name="description" content="Malen nach Farben" />
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="motifs.js"></script>
  <script defer src="script.js"></script>
</head>

<body>
  <a-scene>
    <a-assets>
      <img id="floorTexture" src="Texture/wood-2045379_1280.jpg" crossorigin="anonymous" />
      <audio id="clickSound" src="Malen/sharp-pop-328170.mp3"></audio>
    </a-assets>

    <!-- Raum (gespiegelt in Z) -->
    <a-plane position="0 -6 3" rotation="-90 0 0" width="60" height="80" src="#floorTexture" repeat="1 1" shadow></a-plane>
    <a-box position="0 2 8" depth="0.1" height="4" width="12" color="#EDE8D0"></a-box>
    <a-box position="-6 2 3" depth="12" height="4" width="0.1" color="#EDE8D0"></a-box>
    <a-box position="6 2 3" depth="12" height="4" width="0.1" color="#EDE8D0"></a-box>
    <a-box position="0 4 3" width="12" height="0.1" depth="12" color="#c4bfaa"></a-box>
    <a-box position="0 2 -3" depth="0.1" height="4" width="12" color="#EDE8D0"></a-box>

    <!-- Anleitungstext auf neuer Rückwand -->
    <a-text
      id="instructionsText"
      font="https://cdn.aframe.io/fonts/mozillavr.fnt" 
      value="Willkommen!\nDrehe dich um, um mit dem Malen zu beginnen.\nMale die Bloecke in der richtigen Farbe aus – die passenden Farben erkennst du an den Zahlen auf den Bloecken.\nKlicke zuerst eine Farbe aus der Farbpalette an und male dann die Bloecke an, um das Bild zu gestalten.\nWenn du fertig bist und ein neues Motiv malen willst, klicke einfach auf den Button „Neues Motiv“."
      width="5"
      position="0 2 -2.95"
      rotation="0 0 0"
      color="#333"
      align="center"
    ></a-text>

    <!-- Deko (gespiegelt) -->
    <a-entity gltf-model="Models/Fiddle-leaf Plant.glb" position="-5 0 7" scale="0.3 0.3 0.3" rotation="0 -135 0"></a-entity>
    <a-entity gltf-model="Models/Fiddle-leaf Plant.glb" position="5 0.1 7" scale="-0.3 0.3 0.3" rotation="0 -135 0"></a-entity>

    <!-- Bilder (gespiegelt) -->
    <a-box position="-5.7 2 4.7" width="2.5" height="2" depth="0.01" color="#333" rotation="0 -90 0"></a-box>
    <a-image src="Malen/Cat1.jpeg" position="-5.5 2 4.5" width="1.8" height="1.3" rotation="0 -90 0"></a-image>
    <a-box position="5.7 2 4.7" width="2.5" height="2" depth="0.01" color="#333" rotation="0 90 0"></a-box>
    <a-image src="Malen/kitten-2558459_1280.jpg" position="5.5 2 4.5" width="1.8" height="1.3" rotation="0 90 0"></a-image>

    <!-- Licht -->
    <a-entity light="type: ambient; color: #ccc"></a-entity>
    <a-entity light="type: directional; intensity: 0.6" position="0 4 -1"></a-entity>

    <!-- Kamera mit Gaze-Cursor, schaut jetzt Richtung Textwand -->
    <a-entity camera position="0 1.6 0" look-controls>
      <a-cursor
        fuse="true"
        fuse-timeout="100"
        raycaster="objects: .paintBlock"
        color="#333"
        animation__fuse="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1000; from: 1 1 1; to: 2 2 2"
        animation__click="property: scale; startEvents: click; dur: 150; to: 1 1 1"
      ></a-cursor>

      <a-cursor
        id="clickCursor"
        fuse="false"
        raycaster="objects: .colorChoice, .clickable"
        color="#333"
        scale="0.1 0.1 0.1"
        position="0 0 -0.1"
        visible="true"
      ></a-cursor>
    </a-entity>

    <!-- Farbpalette (gespiegelt) -->
    <a-entity id="palette" position="0 2.5 2" rotation="0 180 0">
      <a-plane class="colorChoice" color="#ffd1dc" data-color="#ffd1dc" data-number="1" data-name="Rosa" position="-1 0 0" width="0.3" height="0.3"></a-plane>
      <a-text value="1" position="-1 0.5 0" color="#000" align="center" width="2"></a-text>
      <a-text value="ROSA" position="-1 0.2 0" color="#000" align="center" width="2"></a-text>

      <a-plane class="colorChoice" color="#a8dadc" data-color="#a8dadc" data-number="2" data-name="Blau" position="-0.6 0 0" width="0.3" height="0.3"></a-plane>
      <a-text value="2" position="-0.6 0.5 0" color="#000" align="center" width="2"></a-text>
      <a-text value="BLAU" position="-0.6 0.2 0" color="#000" align="center" width="2"></a-text>

      <a-plane class="colorChoice" color="#c1e1c1" data-color="#c1e1c1" data-number="3" data-name="Mint" position="-0.2 0 0" width="0.3" height="0.3"></a-plane>
      <a-text value="3" position="-0.2 0.5 0" color="#000" align="center" width="2"></a-text>
      <a-text value="MINT" position="-0.2 0.2 0" color="#000" align="center" width="2"></a-text>

      <a-plane class="colorChoice" color="#fff3b0" data-color="#fff3b0" data-number="4" data-name="Gelb" position="0.2 0 0" width="0.3" height="0.3"></a-plane>
      <a-text value="4" position="0.2 0.5 0" color="#000" align="center" width="2"></a-text>
      <a-text value="GELB" position="0.2 0.2 0" color="#000" align="center" width="2"></a-text>

      <a-plane class="colorChoice" color="brown" data-color="brown" data-number="5" data-name="Braun" position="0.6 0 0" width="0.3" height="0.3"></a-plane>
      <a-text value="5" position="0.6 0.5 0" color="#000" align="center" width="2"></a-text>
      <a-text value="BRAUN" position="0.6 0.2 0" color="#000" align="center" width="2"></a-text>

      <a-plane class="colorChoice" color="black" data-color="black" data-number="6" data-name="Schwarz" position="1 0 0" width="0.3" height="0.3"></a-plane>
      <a-text value="6" position="1 0.5 0" color="#000" align="center" width="2"></a-text>
      <a-text value="SCHWARZ" position="1 0.2 0" color="#000" align="center" width="2"></a-text>
    </a-entity>

    <!-- Button für neues Motiv (gespiegelt) -->
    <a-plane id="newMotifButton" position="2 2.5 2" rotation="0 180 0" width="1" height="0.3" color="#8ecae6" class="clickable">
      <a-text value="Neues Motiv" align="center" color="black" position="0 0 0.01" width="3"></a-text>
    </a-plane>

    <!-- Sound -->
    <a-entity id="paintSound" sound="src: #clickSound; on: playSound"></a-entity>

    <!-- Farbstatus (gespiegelt) -->
    <a-text id="selectedColorLabel" value="Farbe: -" position="0 2.2 2" rotation="0 180 0" align="center" color="black"></a-text>
  </a-scene>
</body>
</html>
